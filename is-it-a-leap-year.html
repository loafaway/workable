<!doctype html>
<html lang="zh-tw">
	<head>
		<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0">
		<title>閏年判別</title>

		<script type="text/javascript">
			function isleap(year) {
				let y = true;

				if (year % 4 != 0) {
					y = false;
				} else {
					if (year % 100 != 0) {
						// ;
					} else {
						if (year % 400 != 0) {
							y = false;
						} else {
							// ;
						}
					}
				}

				return y;
			}
		</script>

		<style>
			#lbl {
				font-family: 新細明體;
				font-size: 1rem;
				color: #202020;
				background-color: lightblue;
				border-radius: 4px;
				padding: 0.5rem;
			}

			#yes {
				font-size: 18px;
				color: dimgray;
			}

			#one {
				width: 25rem;
				height: auto;
				background-color: khaki;
				border: 1px solid purple;
				border-radius: 5px;
				padding: 4rem;
			}

			#leap {
				font-family: monospace;
			}
		</style>
	</head>

	<body>
		<h2>閏年判別</h2>

		A year represented as a number is a leap year if
		<ol><li>it is divisible by 400;</li><li>otherwise, it is divisible by 4 but not 100.</li></ol>
		Here is the JavaScript code for determining whether a given year is a leap year.

		<pre>
			function isleap(year) {
				let y = true;

				if (year % 4 != 0) {
					y = false;
				} else {
					if (year % 100 != 0) {
						// ;
					} else {
						if (year % 400 != 0) {
							y = false;
						} else {
							// ;
						}
					}
				}

				return y;
			}
		</pre>

		<div id="one">
			<label for="num" id="lbl"><b>Please type a year: </b><input type="text" id="num" size="8" placeholder="(number)" value="2024" accesskey="N"></label>
			<input type="button" id="leap" accesskey="B" value="LEAP YEAR CHECKER"><br><br>
			<input type="text" id="yes" placeholder="（閏年判別）" size="29" readonly>
		</div>

		<script type="text/javascript">
			// elements used
			const num = document.getElementById("num");
			const leap = document.getElementById("leap");
			const yes = document.getElementById("yes");

			num.onkeyup = () => {
				leap.disabled = false;
				yes.value = ""; 
			};

			leap.onclick = () => {
				const year = parseInt(num.value);

				// one click for a given number
				leap.disabled = true;

				if (Number.isNaN(year)) {
					yes.value = "The input is not a number.";
				} else if (!(1 <= year && year <= 300000)) {
					num.value = String(year);  // possible adjustment to the input
					yes.value = "The year should be in [1, 300000].";
				}  else {
					num.value = String(year);  // input 'correctly' adjusted, perhaps
					if (isleap(year)) {
						yes.value = `The year ${year} is a leap year.`;
					} else {
						yes.value = `The year ${year} is NOT a leap year.`;
					}
				}
			};
		</script>
	</body>    
</html>
